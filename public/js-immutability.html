<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript Immutability | Tipify (DM): Recall some tips</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/styles.141a26e4.css" as="style"><link rel="preload" href="/assets/js/app.141a26e4.js" as="script"><link rel="preload" href="/assets/js/16.4849c059.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.521b6668.css"><link rel="prefetch" href="/assets/js/1.521b6668.js"><link rel="prefetch" href="/assets/js/10.e20e8d5c.js"><link rel="prefetch" href="/assets/js/11.b2cb9907.js"><link rel="prefetch" href="/assets/js/12.d52d9522.js"><link rel="prefetch" href="/assets/js/13.6d4a619a.js"><link rel="prefetch" href="/assets/js/14.61dd4e61.js"><link rel="prefetch" href="/assets/js/15.6c7bb5e0.js"><link rel="prefetch" href="/assets/js/17.b6440469.js"><link rel="prefetch" href="/assets/js/18.4aa9a386.js"><link rel="prefetch" href="/assets/js/19.85bb3907.js"><link rel="prefetch" href="/assets/js/2.f8a8087a.js"><link rel="prefetch" href="/assets/js/20.b535a39b.js"><link rel="prefetch" href="/assets/js/21.ad0ba36b.js"><link rel="prefetch" href="/assets/js/22.fbca2a0d.js"><link rel="prefetch" href="/assets/js/23.b1375930.js"><link rel="prefetch" href="/assets/js/24.c694a181.js"><link rel="prefetch" href="/assets/js/25.f654c0ae.js"><link rel="prefetch" href="/assets/js/26.4d8afbfb.js"><link rel="prefetch" href="/assets/js/27.fe1c83de.js"><link rel="prefetch" href="/assets/js/28.f3dd6c48.js"><link rel="prefetch" href="/assets/js/29.5884bd0e.js"><link rel="prefetch" href="/assets/js/3.5462b0b6.js"><link rel="prefetch" href="/assets/js/30.d9f348e4.js"><link rel="prefetch" href="/assets/js/4.6c6114a5.js"><link rel="prefetch" href="/assets/js/5.0298c3b4.js"><link rel="prefetch" href="/assets/js/6.39486b1c.js"><link rel="prefetch" href="/assets/js/7.699e3b36.js"><link rel="prefetch" href="/assets/js/8.21f49d04.js"><link rel="prefetch" href="/assets/js/9.edb75e17.js">
    <link rel="stylesheet" href="/assets/css/styles.141a26e4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Tipify (DM): Recall some tips
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/DamengRandom/tipify" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/DamengRandom/tipify" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/thanks.html" class="sidebar-link">Special thanks</a></li><li><a href="/tipify.html" class="sidebar-link">What is tipify? </a></li><li><a href="/git-tips-one.html" class="sidebar-link">Git: General commands</a></li><li><a href="/react-tips-one.html" class="sidebar-link">React general tips</a></li><li><a href="/js-reduce-method.html" class="sidebar-link">JS Reduce Method</a></li><li><a href="/ts-basics.html" class="sidebar-link">TS bascis</a></li><li><a href="/dotnet-basics.html" class="sidebar-link">DotNet Bascis</a></li><li><a href="/js-high-order-functions.html" class="sidebar-link">JavascScript High Order Functions</a></li><li><a href="/js-callback-promise-async-await.html" class="sidebar-link">JavaScript Callback, Promise &amp; Async Await</a></li><li><a href="/js-general-tips.html" class="sidebar-link">Javascript General Tips</a></li><li><a href="/js-event-loop.html" class="sidebar-link">Javascript Event Loop</a></li><li><a href="/js-hoisting.html" class="sidebar-link">JavaScript Hoisting</a></li><li><a href="/js-closure.html" class="sidebar-link">JavaScript Closure</a></li><li><a href="/dotnet-cli-commands.html" class="sidebar-link">.Net CLI comamnds</a></li><li><a href="/dotnet-files-meaning.html" class="sidebar-link">.Net Files Meaning</a></li><li><a href="/dotnet-cqrs.html" class="sidebar-link">.Net CQRS Pattern</a></li><li><a href="/react-hoc.html" class="sidebar-link">React High Order Component (HOC)</a></li><li><a href="/server-side-rendering.html" class="sidebar-link">React Server Side Rendering (SSR)</a></li><li><a href="/react-lifecycle.html" class="sidebar-link">React Lifecycle Methods</a></li><li><a href="/js-immutability.html" class="active sidebar-link">Javascript Immutability</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/react-hooks-tips.html" class="sidebar-link">React Hooks Tips</a></li><li><a href="/one-word-tips.html" class="sidebar-link">Just one word for knowledge recall</a></li><li><a href="/weekly-tips.html" class="sidebar-link">Tips for quick recall</a></li><li><a href="/css-bem.html" class="sidebar-link">BEM (Block, Element &amp; Modifier) Methodology</a></li><li><a href="/js-module-systems.html" class="sidebar-link">JavaScript Module Systems Undersatnding</a></li><li><a href="/vuex-terms.html" class="sidebar-link">Vuex Terms</a></li><li><a href="/docker-basics.html" class="sidebar-link">Docker Basics</a></li><li><a href="/vuejs-tips.html" class="sidebar-link">Vuejs Tips</a></li></ul></div><div class="page"><div class="content"><h3 id="javascript-immutability"><a href="#javascript-immutability" class="header-anchor">#</a> Javascript Immutability</h3><h4 id="concept"><a href="#concept" class="header-anchor">#</a> Concept:</h4><p>In JavaScript, if the variable is mutable, when we modifies the copy also the original variable get modified.
If ariable is immutable, when we modifies the copy, the copy does not affect the original variable.</p><p>2 major variable types:</p><ul><li>primitive type: <code>string</code>, <code>null</code>, <code>undefined</code>, <code>boolean</code>, <code>number</code> and <code>symbol</code> (Immutable) [(Unchangable)]</li><li>reference type: <code>object</code> and <code>array</code> (Mutable) [(Changable)]</li></ul><p>We often use <code>map</code>, <code>filter</code>, <code>reduce</code> array methods to deal with variable vlaues in an immutable way</p><h4 id="code-examples"><a href="#code-examples" class="header-anchor">#</a> Code Examples:</h4><ol><li>Primitive (Immutable) Type vs Reference (Mutable) Type</li></ol><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Primitive Example</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10 20 -&gt; value of a stay unchanges</span>
<span class="token comment">// original no change</span>
<span class="token comment">// new value changed</span>

<span class="token comment">// Reference Example</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'damon'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>
y<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'unknown'</span><span class="token punctuation">;</span>
x<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// unknown -&gt; value of x get updated</span>
<span class="token comment">// original changed</span>
<span class="token comment">// new value changed</span>

<span class="token comment">// Last note: JavaScript stores primitive value on the stack and stores reference value on the heap</span>
</code></pre></div><ol start="2"><li>Immutable way of handling data</li></ol><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// filter array method:</span>
<span class="token keyword">var</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'dameng'</span><span class="token punctuation">,</span> happy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'unknown'</span><span class="token punctuation">,</span> happy<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output happy value(s)'</span><span class="token punctuation">,</span> values<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> value<span class="token punctuation">.</span>happy <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output original values array: '</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// values array stay unchanged</span>

<span class="token comment">// spread operator: immutabel way handle data (basically assign to a new variable)</span>
<span class="token keyword">const</span> newValues <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>values<span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'haha'</span><span class="token punctuation">,</span> happy<span class="token operator">:</span> <span class="token string">'true'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output newValues array: '</span><span class="token punctuation">,</span> newValues<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output original values array: '</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// values array stay unchanged</span>

<span class="token comment">// slice is get certain data without changing the original variable value(s)</span>
<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
numbers<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// output as [1,2,3]</span>
<span class="token comment">// and now we out numbers, we get</span>
<span class="token comment">// [1,2,3,4] // which is unchanged (original unchanged) </span>
</code></pre></div><ol start="3"><li>Difference between <code>push</code> and <code>concat</code>:</li></ol><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// push method: (is mutable)</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pushValues <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'hehe'</span><span class="token punctuation">,</span> happy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output pushValues array: '</span><span class="token punctuation">,</span> pushValues<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output original values array: '</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// values array stay unchanged</span>

<span class="token comment">// concat method: (is immutable)</span>
<span class="token keyword">const</span> concatValues <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'huhu'</span><span class="token punctuation">,</span> happy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output concatValues array: '</span><span class="token punctuation">,</span> concatValues<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Output original values array: '</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// values array stay unchanged</span>

<span class="token comment">// Conclision: in redux, we use concat instead of push to handle our data !!!!</span>
</code></pre></div><p>In React, <code>immutability</code> makes state more predictable, thats why we need <code>immutable</code> way to handle our variable values, especially <code>state</code>.</p><p>Good tool: <a href="https://immutable-js.github.io/immutable-js/" target="_blank">immutable.js</a></p></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/react-lifecycle.html" class="prev">
          React Lifecycle Methods
        </a></span><span class="next"><a href="/react-hooks-tips.html">
          React Hooks Tips
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.141a26e4.js" defer></script><script src="/assets/js/16.4849c059.js" defer></script>
  </body>
</html>
