<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React general tips | Tipify (DamengRandom)</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/styles.b3a6b02e.css" as="style"><link rel="preload" href="/assets/js/app.b3a6b02e.js" as="script"><link rel="preload" href="/assets/js/31.b65848f0.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.521b6668.css"><link rel="prefetch" href="/assets/js/1.521b6668.js"><link rel="prefetch" href="/assets/js/10.0e720777.js"><link rel="prefetch" href="/assets/js/11.3b78459e.js"><link rel="prefetch" href="/assets/js/12.61469958.js"><link rel="prefetch" href="/assets/js/13.5ff42ecc.js"><link rel="prefetch" href="/assets/js/14.eace3871.js"><link rel="prefetch" href="/assets/js/15.e2ded21b.js"><link rel="prefetch" href="/assets/js/16.c5ec7143.js"><link rel="prefetch" href="/assets/js/17.e5ef82aa.js"><link rel="prefetch" href="/assets/js/18.4b603763.js"><link rel="prefetch" href="/assets/js/19.751c8cdb.js"><link rel="prefetch" href="/assets/js/2.07fc50a7.js"><link rel="prefetch" href="/assets/js/20.92a83ebe.js"><link rel="prefetch" href="/assets/js/21.9ca3171f.js"><link rel="prefetch" href="/assets/js/22.33037a5e.js"><link rel="prefetch" href="/assets/js/23.3d164af3.js"><link rel="prefetch" href="/assets/js/24.8b5a68f6.js"><link rel="prefetch" href="/assets/js/25.a1f32c71.js"><link rel="prefetch" href="/assets/js/26.f611d6b1.js"><link rel="prefetch" href="/assets/js/27.7bb7f4c8.js"><link rel="prefetch" href="/assets/js/28.ea9231e4.js"><link rel="prefetch" href="/assets/js/29.de34a314.js"><link rel="prefetch" href="/assets/js/3.5d8b93ba.js"><link rel="prefetch" href="/assets/js/30.980f6242.js"><link rel="prefetch" href="/assets/js/32.435eaec4.js"><link rel="prefetch" href="/assets/js/33.a914a5bd.js"><link rel="prefetch" href="/assets/js/34.d01a0d2e.js"><link rel="prefetch" href="/assets/js/35.d04c5d08.js"><link rel="prefetch" href="/assets/js/36.f248fdd3.js"><link rel="prefetch" href="/assets/js/37.743e4f01.js"><link rel="prefetch" href="/assets/js/38.3b2012d9.js"><link rel="prefetch" href="/assets/js/39.ff12f4a8.js"><link rel="prefetch" href="/assets/js/4.03d26f11.js"><link rel="prefetch" href="/assets/js/40.2fb0d980.js"><link rel="prefetch" href="/assets/js/41.40e923af.js"><link rel="prefetch" href="/assets/js/42.2ff333ab.js"><link rel="prefetch" href="/assets/js/43.c8f3afb3.js"><link rel="prefetch" href="/assets/js/44.3eb0bfa6.js"><link rel="prefetch" href="/assets/js/5.5af2ce71.js"><link rel="prefetch" href="/assets/js/6.be43959f.js"><link rel="prefetch" href="/assets/js/7.8059b753.js"><link rel="prefetch" href="/assets/js/8.9b2facd8.js"><link rel="prefetch" href="/assets/js/9.45f556aa.js">
    <link rel="stylesheet" href="/assets/css/styles.b3a6b02e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Tipify (DamengRandom)
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/DamengRandom/tipify" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/DamengRandom/tipify" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><a href="/tipify.html" class="sidebar-link">What is tipify? </a></li><li><a href="/git-tips-one.html" class="sidebar-link">Git: General commands</a></li><li><a href="/react-tips-one.html" class="active sidebar-link">React general tips</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/js-reduce-method.html" class="sidebar-link">JavaScript Reduce Method</a></li><li><a href="/ts-basics.html" class="sidebar-link">TypeScript basics</a></li><li><a href="/dotnet-basics.html" class="sidebar-link">DotNet Basics</a></li><li><a href="/js-high-order-functions.html" class="sidebar-link">JavasScript High Order Functions</a></li><li><a href="/js-callback-promise-async-await.html" class="sidebar-link">JavaScript Callback, Promise &amp; Async Await</a></li><li><a href="/js-general-tips.html" class="sidebar-link">JavaScript General Tips </a></li><li><a href="/js-event-loop.html" class="sidebar-link">Javascript Event Loop</a></li><li><a href="/js-hoisting.html" class="sidebar-link">JavaScript Hoisting</a></li><li><a href="/js-closure.html" class="sidebar-link">JavaScript Closure</a></li><li><a href="/dotnet-cqrs.html" class="sidebar-link">.Net CQRS Pattern</a></li><li><a href="/react-hoc.html" class="sidebar-link">React High Order Component (HOC)</a></li><li><a href="/server-side-rendering.html" class="sidebar-link">React Server Side Rendering (SSR)</a></li><li><a href="/react-lifecycle.html" class="sidebar-link">React Lifecycle Methods</a></li><li><a href="/js-immutability.html" class="sidebar-link">JavaScript Immutability</a></li><li><a href="/react-hooks-tips.html" class="sidebar-link">React Hooks Tips</a></li><li><a href="/one-word-tips.html" class="sidebar-link">Just one word for knowledge recall</a></li><li><a href="/weekly-tips.html" class="sidebar-link">Tips for quick recall</a></li><li><a href="/css-bem.html" class="sidebar-link">BEM (Block, Element &amp; Modifier) Methodology</a></li><li><a href="/js-module-systems.html" class="sidebar-link">JavaScript Module Systems Understanding</a></li><li><a href="/vuex-terms.html" class="sidebar-link">Vuex Terms</a></li><li><a href="/docker-basics.html" class="sidebar-link">Docker Basics</a></li><li><a href="/vuejs-tips.html" class="sidebar-link">VueJS Tips</a></li><li><a href="/postgres-tips.html" class="sidebar-link">Postgres SQL General tips</a></li><li><a href="/sql-tips.html" class="sidebar-link">SQL General recalls</a></li><li><a href="/webpack-tips.html" class="sidebar-link">Webpack 5 basics recalls</a></li><li><a href="/redux-tips.html" class="sidebar-link">Redux recalls</a></li><li><a href="/errors-I-saw.html" class="sidebar-link">Some errors I saw before</a></li><li><a href="/css-tips.html" class="sidebar-link">CSS General recalls</a></li><li><a href="/tips-to-read.html" class="sidebar-link">Resources to read (before interview)</a></li><li><a href="/tricky-js-recalls.html" class="sidebar-link">Tricky and dirty JS recalls (before interview)</a></li><li><a href="/node-tips.html" class="sidebar-link">NodeJS Recall Tips</a></li><li><a href="/npms.html" class="sidebar-link">Common NPM packages (Quick recall)</a></li><li><a href="/restful-api.html" class="sidebar-link">RestFul API</a></li><li><a href="/concepts.html" class="sidebar-link">Recall some concepts knowledge</a></li><li><a href="/avoid-using-else.html" class="sidebar-link">How to avoid else statement in your codebase? 👉 Guard Clauses</a></li><li><a href="/solid-principles.html" class="sidebar-link">S.O.L.I.D principle in web development</a></li><li><a href="/problems-resolved.html" class="sidebar-link">Problems/Issues I have resolved during working (Recall only)</a></li><li><a href="/just-code.html" class="sidebar-link">Just Code (Shhh)</a></li><li><a href="/js-class-prototype.html" class="sidebar-link">JavaScript Class &amp; Prototype Concept Recall</a></li></ul></div><div class="page"><div class="content"><h3 id="react-general-tips"><a href="#react-general-tips" class="header-anchor">#</a> React general tips</h3><h4 id="make-api-call-inside-componentdidmount-method-instead-of-componentwillmount-method"><a href="#make-api-call-inside-componentdidmount-method-instead-of-componentwillmount-method" class="header-anchor">#</a> Make API call inside componentDidMount method instead of componentWillMount method:</h4><p>Explanation:</p><p>Using a fetch call within <code>componentWillMount()</code> causes the component to render with empty data at first, because <code>componentWillMount()</code> will <code>NOT</code> return before the first render of the component.</p><p>Due to the fact that JavaScript events are async, when you make an API call, the browser continues to do other work while the call is still in motion. With React, while a component is rendering it <code>doesn’t wait</code> for <code>componentWillMount()</code> to finish, so the component continues to render.</p><p><a href="https://dev.to/torianne02/componentwillmount-vs-componentdidmount-5f0n" target="_blank">Reference</a></p><h4 id="react-synthetic-events"><a href="#react-synthetic-events" class="header-anchor">#</a> React Synthetic Events</h4><p>Concept: whenever we are triggering an event in React Component, we are not actually dealing with the real DOM event, instead we are cope with React's custom event type, a synthetic event</p><p>Examples: <code>onClick()</code>, <code>onChange()</code>, <code>onBlur()</code> and etc ...</p><ul><li>Note: if you want to access the event properties in an asynchronous way, you need to use <code>event.persist()</code>. Normally, for synthetic events, we can't access event properties in an asynchronous way.</li></ul><p>When we use <code>event.persist()</code>?</p><p>Code example:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PageChecker</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> page<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">persist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// we need to use persist because of event has been used inside setState() callback function</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">prevState</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      page<span class="token operator">:</span> prevState <span class="token operator">+</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token comment">// event is used inside setState() callback function (here)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>Check Page<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Reference: https://deepscan.io/docs/rules/react-missing-event-persist#:~:text=persist()%20should%20be%20called,inside%20an%20asynchronous%20callback%20function&amp;text=This%20rule%20applies%20when%20a,callback%20function%20without%20calling%20event.&amp;text=If%20you%20need%20to%20access,an%20asynchronous%20callback%20function%2C%20event.</span>
</code></pre></div><p>Reference: <a href="https://dev.to/nagwan/react-synthetic-events-34e5" target="_blank">here</a> And <a href="https://reactjs.org/docs/events.html" target="_blank">here</a></p><h4 id="react-side-effect"><a href="#react-side-effect" class="header-anchor">#</a> React Side Effect</h4><ul><li>Concept: it means anything that affects something outside of the scope of the current function thats being executed
</li></ul><p>In React, generally, side effects responsible for:</p><ul><li>API call from the server</li><li>call authentication service</li><li>Setting and clearing timers</li><li>Interacting with the DOM</li></ul><p>Reference <a href="https://frontarm.com/james-k-nelson/introduction-to-react-effects/" target="_blank">here</a></p><h4 id="pure-component"><a href="#pure-component" class="header-anchor">#</a> Pure Component</h4><ul><li><code>React.PureComponent</code> make the component <code>NOT</code> getting re-rendered !!</li><li><code>React.PureComponent</code> implements <code>shouldComponentUpdate()</code> method</li><li>Knowledge recall: <code>pure function</code>: given an input, and getting an output, thats it !!</li><li>Why we use <code>PureComponent</code>: avoid unnecessary re-renders for the component and enhance the performance ..</li><li>When we use <code>PureComponent</code>? When the time we do <code>NOT</code> want to re-render the component !!</li></ul><p>Example:</p><p>Please find it over <a href="https://stackblitz.com/edit/react-h8oehs?file=src%2FParentComponent.js" target="_blank">here</a></p><h4 id="react-reconciliation"><a href="#react-reconciliation" class="header-anchor">#</a> React Reconciliation</h4><p>Simple word: its talks about the <code>diffing algorithm</code>, React uses <code>key</code> attribute, make sure its unique !!
According to the <code>diffing algorithm</code>, we update the Virtual DOM tree and re-render the specific DOM element !!</p><h4 id="react-portals"><a href="#react-portals" class="header-anchor">#</a> React Portals</h4><p>Render the <code>tooltips</code>, <code>Modal</code> code out of the <code>&lt;body&gt;{...}&lt;/body&gt;</code> element, something looks like this:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token operator">...</span> body code logics <span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token comment">// below part is React Portals code !!!</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;portal-modal&quot;</span><span class="token operator">&gt;</span> 
  <span class="token punctuation">{</span><span class="token operator">...</span> modal code logics <span class="token operator">...</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h4 id="how-to-remove-warning-message-inside-useeffect-like"><a href="#how-to-remove-warning-message-inside-useeffect-like" class="header-anchor">#</a> How to remove warning message inside useEffect like <code>[]</code>?</h4><p>Concept is to set the function as a <code>ref</code>:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// define a ref</span>
<span class="token keyword">const</span> currentFetchRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// assign to current</span>
currentFetchRef<span class="token punctuation">.</span><span class="token function-variable function">current</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchRandomData</span><span class="token punctuation">(</span><span class="token parameter">pageNumber</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://randomuser.me/api?page=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pageNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setStates</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>states<span class="token punctuation">,</span>
    dataString<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>results<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    totalDataLoaded<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>states<span class="token punctuation">.</span>totalDataLoaded<span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">page-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pageNumber<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> response<span class="token punctuation">.</span>results <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// use the current ref function !!!</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  currentFetchRef<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Example: <a href="https://codesandbox.io/s/hungry-brook-qb0g9?file=/src/App.js">Coded by me</a></p><h4 id="error-boundaries"><a href="#error-boundaries" class="header-anchor">#</a> Error Boundaries</h4><p>The idea of error boundary is a generic component that takes care of the errors for its children</p><h4 id="forwardref"><a href="#forwardref" class="header-anchor">#</a> forwardRef</h4><p>Code example:</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ForwardInput <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>input
      <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span>
      ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span>
      name<span class="token operator">=</span><span class="token string">&quot;forwardInput&quot;</span>
      placeholder<span class="token operator">=</span><span class="token string">&quot;trigger input focus effect by clicking button&quot;</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">InputWrapper</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  inputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ForwardInput ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>inputRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>Click me to focus on input<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> InputWrapper<span class="token punctuation">;</span>
</code></pre></div><h4 id="react-jsx"><a href="#react-jsx" class="header-anchor">#</a> React JSX</h4><p>JSX stands for JavaScript XML</p><p>JSX allows us to write HTML in React</p><p>JSX made our life easier because we don't need to use <code>createElement()</code> or <code>appendChild()</code> to add HTML into DOM.</p><p>Example:</p><p>Without JSX</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> es6El <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'Hi there ..'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// without JSX, headache</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>es6El<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>With JSX</p><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jsxEl <span class="token operator">=</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Hi there <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>jsxEl<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// life is easier ..</span>
</code></pre></div><p>JSX expression: <code>{}</code>, eg: <code>{variableName}</code></p><h4 id="what-is-virtual-dom"><a href="#what-is-virtual-dom" class="header-anchor">#</a> What is Virtual DOM</h4><p>It is an object which represents the DOM tree. (Shortest version)</p><p>Try to get more details from this github repository: <a href="https://github.com/DamengRandom/virtual-dom-study" target="_blank">here</a></p><h3 id="in-react-we-need-to-bind-this-if-we-are-not-using-arrow-function"><a href="#in-react-we-need-to-bind-this-if-we-are-not-using-arrow-function" class="header-anchor">#</a> In React, we need to <code>bind(this)</code> if we are <strong>NOT</strong> using arrow function</h3><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Arrow function does not contain these context:</span>
<span class="token comment">// this</span>
<span class="token comment">// arguments</span>
<span class="token comment">// super</span>
<span class="token comment">// new.target</span>

<span class="token comment">// Conclusion, In React, we don't need functionName.bind(this) for arrow function</span>

<span class="token comment">// Code Example:</span>

<span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    isShown<span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isShown
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// In normal function, we need to use functionName.bind(this);</span>
<span class="token comment">// inside constructor, please add this bind function for using `this` context !!</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">handleClick</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    isShown<span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isShown
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Reference: <a href="https://stackoverflow.com/questions/52979915/why-we-dont-need-to-bind-the-arrow-function-in-react" target="_blank">here</a></p></div><div class="page-edit"><!----><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/git-tips-one.html" class="prev">
          Git: General commands
        </a></span><span class="next"><a href="/js-reduce-method.html">
          JavaScript Reduce Method
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/app.b3a6b02e.js" defer></script><script src="/assets/js/31.b65848f0.js" defer></script>
  </body>
</html>
